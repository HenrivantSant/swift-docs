(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{107:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return a})),r.d(t,"metadata",(function(){return c})),r.d(t,"toc",(function(){return l})),r.d(t,"default",(function(){return u}));var n=r(3),i=r(7),o=(r(0),r(144)),a={title:"Security"},c={unversionedId:"graphql/security",id:"graphql/security",isDocsHomePage:!1,title:"Security",description:"It's very important to protect your GraphQL API from unauthorized access. There are several ways to do this. By default, all Queries, Mutations and Types are public.",source:"@site/docs/graphql/security.md",slug:"/graphql/security",permalink:"/swift-docs/docs/graphql/security",editUrl:"https://github.com/SwiftAPI/swift-docs/tree/main/docs/graphql/security.md",version:"current",sidebar:"docs",previous:{title:"Relay",permalink:"/swift-docs/docs/graphql/relay"},next:{title:"HTTP Foundation",permalink:"/swift-docs/docs/httpfoundation"}},l=[{value:"1. Security configuration",id:"1-security-configuration",children:[]},{value:"2. Middleware",id:"2-middleware",children:[]},{value:"3. Resolvers",id:"3-resolvers",children:[]},{value:"Tip",id:"tip",children:[]}],s={toc:l};function u(e){var t=e.components,r=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},s,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"It's very important to protect your GraphQL API from unauthorized access. There are several ways to do this. By default, all Queries, Mutations and Types are public."),Object(o.b)("h2",{id:"1-security-configuration"},"1. Security configuration"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"graphql_access_control")," directive in the security configuration allows you to specify which Queries, Mutations and Types should be accessible to which roles. See the example below."),Object(o.b)("p",null,"When the fields array is empty, the whole limitation applies to all it's fields. When the fields array is not empty, the limitation applies only to the fields in the array."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-yaml"},"graphql_access_control:\n    - { name: SecurityUser, fields: [lastname], roles: [ROLE_USER, ROLE_FOO] }\n    - { name: SecurityUsersCredential, fields: [], roles: [ROLE_USER, ROLE_FOO] }\n")),Object(o.b)("h2",{id:"2-middleware"},"2. Middleware"),Object(o.b)("p",null,"Through execution middleware you achieve similar functionality as in the security configuration however, you will have more freedom and can apply more nuanced security."),Object(o.b)("h2",{id:"3-resolvers"},"3. Resolvers"),Object(o.b)("p",null,"The last option is to create a custom resolver. In there you can achieve similar functionality as in the middleware, but it's not called on every field. Therefore, it can provide better performance, but it could also override a previously defined resolver."),Object(o.b)("h2",{id:"tip"},"Tip"),Object(o.b)("p",null,"It is recommended to use the roles from the Security Component. Simply use the ",Object(o.b)("a",{parentName:"p",href:"/docs/security/authorization#usage"},"AuthorizationChecker")," to check if the current user is allowed to access the field."))}u.isMDXComponent=!0},144:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var n=r(0),i=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=i.a.createContext({}),u=function(e){var t=i.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},p=function(e){var t=u(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},y=i.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,a=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=u(r),y=n,f=p["".concat(a,".").concat(y)]||p[y]||d[y]||o;return r?i.a.createElement(f,c(c({ref:t},s),{},{components:r})):i.a.createElement(f,c({ref:t},s))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,a=new Array(o);a[0]=y;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,a[1]=c;for(var s=2;s<o;s++)a[s]=r[s];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,r)}y.displayName="MDXCreateElement"}}]);