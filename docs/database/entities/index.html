<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/swift-docs/blog/rss.xml" title="Swift API Framework Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/swift-docs/blog/atom.xml" title="Swift API Framework Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Swift API Framework" href="/swift-docs/opensearch.xml"><title data-react-helmet="true">Entities | Swift API Framework</title><meta data-react-helmet="true" property="og:url" content="https://swiftapi.github.io/swift-docs/docs/database/entities"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Entities | Swift API Framework"><meta data-react-helmet="true" name="description" content="Entities are the very core of the ORM. They represent the Data Objects in the database. The ORM will automatically find the defined entities and map them into the schema. To indicate that an entity is an entity, you need to use the Swift\Orm\Attributes\Entity Attribute and extend the Swift\Orm\Entity\AbstractEntity class."><meta data-react-helmet="true" property="og:description" content="Entities are the very core of the ORM. They represent the Data Objects in the database. The ORM will automatically find the defined entities and map them into the schema. To indicate that an entity is an entity, you need to use the Swift\Orm\Attributes\Entity Attribute and extend the Swift\Orm\Entity\AbstractEntity class."><link data-react-helmet="true" rel="shortcut icon" href="/swift-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://swiftapi.github.io/swift-docs/docs/database/entities"><link data-react-helmet="true" rel="alternate" href="https://swiftapi.github.io/swift-docs/docs/database/entities" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://swiftapi.github.io/swift-docs/docs/database/entities" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://YWHKNR9J2V-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/swift-docs/assets/css/styles.420a0495.css">
<link rel="preload" href="/swift-docs/assets/js/styles.a335f3d3.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/runtime~main.8b17c7aa.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/main.302c97ce.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/1.7eadec3d.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/2.9eda4aa2.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/3.a0a824ba.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/1be78505.79f3bd1a.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/935f2afb.276a3bef.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/17896441.1a7ad218.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/b0d0c47f.5845023b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/swift-docs/"><img src="/swift-docs/img/logo.svg" alt="Swift Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/swift-docs/img/logo.svg" alt="Swift Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Swift</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/swift-docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/swift-docs/next">Next</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SwiftAPI/swift" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/swift-docs/"><img src="/swift-docs/img/logo.svg" alt="Swift Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/swift-docs/img/logo.svg" alt="Swift Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Swift</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/swift-docs/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/next">Next</a></li><li class="menu__list-item"><a href="https://github.com/SwiftAPI/swift" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/getting-started/installation">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/architecture/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/architecture/application-lifecycle">Application lifecycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/architecture/attributes">Attributes</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/middleware">Middleware</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/command-line-interface">Command line interface</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Database</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/basics">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/cli">Cli</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/swift-docs/docs/database/entities">Entities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/relations">Relations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/entity-behaviors">Entity Behaviors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/lifecycles">Lifecycles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/swift-docs/docs/database/driver">Driver</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/dependency-injection">Dependency Injection</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/events-and-subscribers">Events, Subscribers &amp; Listeners</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">GraphQl</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/generators">Generators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/builder">Builder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/middleware">Middleware</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/resolvers">Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/schema">Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/tools">Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/relay">Relay</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/graphql/security">Security</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/httpfoundation">HTTP Foundation</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/logging">Logging</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/making-requests">Making requests</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/routing-and-controllers">Routing &amp; Controllers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/authorization">Authorization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/firewall">Firewall</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/ratelimiter">Rate Limiter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/users">Users (&amp; Clients)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Runtime</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/runtime/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/runtime/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/runtime/cron">Cron</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/runtime/coroutines">Coroutines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/runtime/websockets">WebSocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/runtime/filewatcher">FileWatcher</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Entities</h1></header><div class="markdown"><p>Entities are the very core of the ORM. They represent the Data Objects in the database. The ORM will automatically find the defined entities and map them into the schema. To indicate that an entity is an entity, you need to use the <code>Swift\Orm\Attributes\Entity</code> Attribute and extend the <code>Swift\Orm\Entity\AbstractEntity</code> class.</p><p>In the Entity Attribute you define the name of the table in the database.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Entity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Entity( table: &#x27;movies&#x27; )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Movie extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sync-schema-with-database"></a>Sync schema with database<a class="hash-link" href="#sync-schema-with-database" title="Direct link to heading">#</a></h3><p>Changes in Entity classes will NOT automatically be reflected in the database. You will need to run the command below to sync the schema with the database.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">php bin/console orm:sync</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>Note: This won&#x27;t work as expected in production. Never change such things in production mode. Always update in develop mode.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="fields"></a>Fields<a class="hash-link" href="#fields" title="Direct link to heading">#</a></h2><p>Entities are not valid without having declared fields. Fields are the columns in the database. To declare a field, you need to use the <code>Swift\Orm\Attributes\Field</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Entity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Types\FieldTypes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Entity( table: &#x27;movies&#x27; )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Movie extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;id&#x27;, primary: true, type: FieldTypes::INT, length: 11 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected int $id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>Read how to use non-incrementing fields in the Entity Behaviors section: <a href="/swift-docs/docs/database/entity-behaviors#uuid">UUID</a>.</p></blockquote><p>While adding new fields to entities which are allowed to be empty, you need to enable this for the field. This can be done in the Field Attribute.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Entity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Types\FieldTypes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Entity( table: &#x27;movies&#x27; )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Movie extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;id&#x27;, primary: true, type: FieldTypes::INT, length: 11 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected int $id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;description&#x27;, type: FieldTypes::LONGTEXT, empty: true )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $description;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="field-configuration"></a>Field configuration<a class="hash-link" href="#field-configuration" title="Direct link to heading">#</a></h3><p>The following options are available for configuration a field:</p><table><thead><tr><th>Options</th><th>Value</th><th>Comment</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>The name of the column in the database.</td></tr><tr><td>type</td><td>string&lt;Swift\Orm\Types\FieldTypes&gt;</td><td>The type of the field in the database.</td></tr><tr><td>primary</td><td>bool</td><td>Whether the field is a primary key. Defaults to false.</td></tr><tr><td>unique</td><td>bool</td><td>Whether the field is a unique key. Defaults to false.</td></tr><tr><td>index</td><td>bool</td><td>Whether the field is an index. Defaults to false.</td></tr><tr><td>length</td><td>int</td><td>The length of the field. Defaults to 0.</td></tr><tr><td>empty</td><td>bool</td><td>Whether the field is allowed to be empty. Defaults to false.</td></tr><tr><td>enum</td><td>string</td><td>Classname of the enum to map.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="field-types"></a>Field types<a class="hash-link" href="#field-types" title="Direct link to heading">#</a></h3><p>The following field types (Swift\Orm\Types\FieldTypes) are available. Field types will automatically be converted to the correct type in the database and vice versa.</p><table><thead><tr><th>Type</th><th>Arguments</th><th></th><th>Description</th></tr></thead><tbody><tr><td>TEXT</td><td>---</td><td>Database specific type to store text data. Check DBMS to find size limitations. Note that this field does not support indexes or unique constraints. To use this, use the STRING type.</td><td></td></tr><tr><td>LONGTEXT</td><td>---</td><td>Long text, same as &quot;text&quot; for most of the databases. It differs only in MySQL.</td><td></td></tr><tr><td>STRING</td><td>length (1 - 255)</td><td>String with specified length, a perfect type for emails and usernames as it can be indexed.</td><td></td></tr><tr><td>INT</td><td>---</td><td>Database specific integer. Usually stored as 32-bits.</td><td></td></tr><tr><td>FLOAT</td><td>---</td><td>Single precision number, usually mapped into &quot;real&quot; type in the database.</td><td></td></tr><tr><td>BIG_FLOAT</td><td>length (1 - 255)</td><td>Renders to float in PHP, but saved in the database as a varchar. This overcomes some size issues for large precision floats.</td><td></td></tr><tr><td>DOUBLE</td><td>---</td><td><a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format" target="_blank" rel="noopener noreferrer">Double precision number</a></td><td></td></tr><tr><td>DATETIME</td><td>---</td><td>To store date only, DBAL will automatically force UTC timezone for such columns.</td><td></td></tr><tr><td>TIME</td><td>---</td><td>To store time only.</td><td></td></tr><tr><td>TIMESTAMP</td><td>---</td><td>Timestamp without a timezone, DBAL will automatically convert incoming values into UTC timezone. Do not use such column type in your objects to store time (use <code>datetime</code> instead) as timestamps will behave very specific to select DBMS.</td><td></td></tr><tr><td>JSON</td><td>---</td><td>To store JSON structures, such type usually mapped to &quot;text&quot;, only Postgres support it natively.</td><td></td></tr><tr><td>BOOL</td><td>---</td><td>Boolean type. Some database will store this value as integer 1/0.</td><td></td></tr><tr><td>UUID</td><td>---</td><td>Store column as UUID type. Most DBMS will store this as text. A unique constraint will automatically be added.</td><td></td></tr><tr><td>ENUM</td><td>---</td><td>Saves the cases of the enum as enum values in the DBMS.</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="enums"></a>Enums<a class="hash-link" href="#enums" title="Direct link to heading">#</a></h3><p>The ORM supports the enum type for all available drivers. To use it, you need to use the <code>Swift\Orm\Types\FieldTypes::ENUM</code> type and map the Enum class to the field. The ORM will automatically map the enum values to the database and instantiate the enum with the in the Entity.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">enum FooType: string {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case BAR = &#x27;bar&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case BAZ = &#x27;baz&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Entity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Types\FieldTypes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Entity( table: &#x27;movies&#x27; )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Movie extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;type&#x27;, type: FieldTypes::ENUM, enum: FooType::class )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string|FooType $type;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     * @return \App\Foo\Repository\FooType</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public function getType(): FooType {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return $this-&gt;type;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     * @param \App\Foo\Repository\FooType $type</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public function setType( FooType $type ): void {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $this-&gt;type = $type;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>Note that the enum is lazily instantiated, therefore you need to make sure to also type the property as <code>string</code> besides the enum class. Getters and setters can only use the enum class.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="embeddings"></a>Embeddings<a class="hash-link" href="#embeddings" title="Direct link to heading">#</a></h2><p>The ORM can simplify the definition of large entities by providing the ability to split some columns into an embedded entity. Embedded entities by default will always be loaded with the parent object. However, partial entity selection is possible as well.</p><blockquote><p>Embedded entities do not support relations at the moment.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="definition"></a>Definition<a class="hash-link" href="#definition" title="Direct link to heading">#</a></h3><p>To define an embeddable entity use the <code>#[Embeddable]</code> (Swift\Orm\Attributes\Embeddable) attribute. As with <code>#[Entity]</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Embeddable;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Types\FieldTypes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Embeddable]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Address extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;country&#x27;, type: FieldTypes::STRING, length: 128 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $country;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;city&#x27;, type: FieldTypes::STRING, length: 32 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $city;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;address&#x27;, type: FieldTypes::STRING, length: 255 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $address;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><blockquote><p>You do not need to define the primary column, this column will be inherited from the parent entity.</p></blockquote><p>To embed an entity use the <code>#[Embedded]</code> (Swift\Orm\Attributes\Embedded) attribute. Do not forget to initiate the embedding in your entity (see constructor).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Entity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Relation\Embedded;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Types\FieldTypes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Entity( table: &#x27;user&#x27; )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class User extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;id&#x27;, primary: true, type: FieldTypes::INT, length: 11 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected int $id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Embedded( target: Address::class )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected Address $address;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public function __construct() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $this-&gt;address = new Address();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="column-mapping"></a>Column mapping<a class="hash-link" href="#column-mapping" title="Direct link to heading">#</a></h4><p>By default, all embedded entity columns will be stored in the owning entity table without any prefix. If desired, you can use the <code>#[Embedded( prefix: &#x27;foo&#x27; )]</code> attribute to add a prefix.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php declare( strict_types=1 );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace App\Foo\Repository;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Entity\AbstractEntity;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Relation\Embeddable;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Attributes\Field;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Orm\Types\FieldTypes;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Embeddable( prefix: &#x27;address_&#x27; )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class Address extends AbstractEntity {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;country&#x27;, type: FieldTypes::STRING, length: 128 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $country;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;city&#x27;, type: FieldTypes::TEXT, length: 32 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $city;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #[Field( name: &#x27;address&#x27;, type: FieldTypes::STRING, length: 255 )]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected string $address;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="relations"></a>Relations<a class="hash-link" href="#relations" title="Direct link to heading">#</a></h2><p>The ORM provides multiple annotations designed to describe entity relations. Each relation must be associated with specific entity properties in order to work. In addition, most of the relation options (such as the name of inner, outer keys) will be generated automatically.</p><blockquote><p>More on relations can be found in later chapters.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="common-statement"></a>Common statement<a class="hash-link" href="#common-statement" title="Direct link to heading">#</a></h3><p>Each relation must have a proper <code>target</code> option. The target must point to the class of the related entity.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="relations-1"></a>Relations<a class="hash-link" href="#relations-1" title="Direct link to heading">#</a></h3><ul><li><a href="/swift-docs/docs/database/relations#embedding-entities">Embedded</a></li><li><a href="/swift-docs/docs/database/relations#belongsto">BelongsTo</a></li><li><a href="/swift-docs/docs/database/relations#refersTo">RefersTo</a></li><li><a href="/swift-docs/docs/database/relations#hasone">HasOne</a></li><li><a href="/swift-docs/docs/database/relations#hasMany">HasMany</a></li><li><a href="/swift-docs/docs/database/relations#manyToMany">ManyToMany</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/SwiftAPI/swift-docs/tree/main/docs/database/entities.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/swift-docs/docs/database/cli"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Cli</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/swift-docs/docs/database/relations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Relations Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sync-schema-with-database" class="table-of-contents__link">Sync schema with database</a></li><li><a href="#fields" class="table-of-contents__link">Fields</a><ul><li><a href="#field-configuration" class="table-of-contents__link">Field configuration</a></li><li><a href="#field-types" class="table-of-contents__link">Field types</a></li><li><a href="#enums" class="table-of-contents__link">Enums</a></li></ul></li><li><a href="#embeddings" class="table-of-contents__link">Embeddings</a><ul><li><a href="#definition" class="table-of-contents__link">Definition</a></li></ul></li><li><a href="#relations" class="table-of-contents__link">Relations</a><ul><li><a href="#common-statement" class="table-of-contents__link">Common statement</a></li><li><a href="#relations-1" class="table-of-contents__link">Relations</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/swift-docs/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/swift-api" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/swift-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SwiftAPI/swift" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Swift. Built with Docusaurus.</div></div></div></footer></div>
<script src="/swift-docs/assets/js/styles.a335f3d3.js"></script>
<script src="/swift-docs/assets/js/runtime~main.8b17c7aa.js"></script>
<script src="/swift-docs/assets/js/main.302c97ce.js"></script>
<script src="/swift-docs/assets/js/1.7eadec3d.js"></script>
<script src="/swift-docs/assets/js/2.9eda4aa2.js"></script>
<script src="/swift-docs/assets/js/3.a0a824ba.js"></script>
<script src="/swift-docs/assets/js/1be78505.79f3bd1a.js"></script>
<script src="/swift-docs/assets/js/935f2afb.276a3bef.js"></script>
<script src="/swift-docs/assets/js/17896441.1a7ad218.js"></script>
<script src="/swift-docs/assets/js/b0d0c47f.5845023b.js"></script>
</body>
</html>