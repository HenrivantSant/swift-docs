<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/swift-docs/blog/rss.xml" title="Swift PHP Framework Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/swift-docs/blog/atom.xml" title="Swift PHP Framework Blog Atom Feed"><title data-react-helmet="true">Logging | Swift PHP Framework</title><meta data-react-helmet="true" property="og:url" content="https://henrivantsant.github.io/swift-docs/docs/logging"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Logging | Swift PHP Framework"><meta data-react-helmet="true" name="description" content="Logging is crucial to know when certain things occur in the application or what errors happen. The guys from Monolog have done an outstanding job at their component. This logging component is a small wrapper around Monolog to easily integrate it with the rest of the system, but feel free to use it directly."><meta data-react-helmet="true" property="og:description" content="Logging is crucial to know when certain things occur in the application or what errors happen. The guys from Monolog have done an outstanding job at their component. This logging component is a small wrapper around Monolog to easily integrate it with the rest of the system, but feel free to use it directly."><link data-react-helmet="true" rel="shortcut icon" href="/swift-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://henrivantsant.github.io/swift-docs/docs/logging"><link data-react-helmet="true" rel="alternate" href="https://henrivantsant.github.io/swift-docs/docs/logging" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://henrivantsant.github.io/swift-docs/docs/logging" hreflang="x-default"><link rel="stylesheet" href="/swift-docs/assets/css/styles.20fc7aa4.css">
<link rel="preload" href="/swift-docs/assets/js/styles.33a5c3b8.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/runtime~main.d9cdf9a7.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/main.e4f93355.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/1.aa12efea.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/2.9b663253.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/1f391b9e.412181ba.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/48.3f922b25.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/935f2afb.20b231d8.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/17896441.bf29895a.js" as="script">
<link rel="preload" href="/swift-docs/assets/js/3abe8fb9.e3344494.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/swift-docs/"><img src="/swift-docs/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/swift-docs/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Swift</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/swift-docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/swift-docs/blog">Blog</a><a class="navbar__item navbar__link" href="/swift-docs/next">Next</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/swift-docs/"><img src="/swift-docs/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/swift-docs/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Swift</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/swift-docs/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/next">Next</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/getting-started/installation">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/attributes">Attributes</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/command-line-interface">Command line interface</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/database">Database layer</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/dependency-injection">Dependency Injection</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/events-and-subscribers">Events &amp; Subscribers</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/graphql">GraphQL</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/httpfoundation">HTTP Foundation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/swift-docs/docs/logging">Logging</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/making-requests">Making requests</a></li><li class="menu__list-item"><a class="menu__link" href="/swift-docs/docs/routing">Routing &amp; Controllers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/authorization">Authorization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/users">Users (&amp; Clients)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/swift-docs/docs/security/firewall">Firewall</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Logging</h1></header><div class="markdown"><p>Logging is crucial to know when certain things occur in the application or what errors happen. The guys from <a href="https://github.com/Seldaek/monolog" target="_blank" rel="noopener noreferrer">Monolog</a> have done an outstanding job at their component. This logging component is a small wrapper around Monolog to easily integrate it with the rest of the system, but feel free to use it directly.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="purpose"></a>Purpose<a class="hash-link" href="#purpose" title="Direct link to heading">#</a></h4><p>Provide a simple wrapper, utilities and ready-to-go loggers within the framework. As well as configurable system logging.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="native-logging"></a>Native logging<a class="hash-link" href="#native-logging" title="Direct link to heading">#</a></h2><p>Some native loggers come with the package. For more detailed information on usage see <a href="https://github.com/Seldaek/monolog" target="_blank" rel="noopener noreferrer">Monolog Documentation</a>. This will be focused on added/Swift specific features.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="applogger"></a>AppLogger<a class="hash-link" href="#applogger" title="Direct link to heading">#</a></h3><p>Logs to a /var/app.log file.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dblogger"></a>DBLogger<a class="hash-link" href="#dblogger" title="Direct link to heading">#</a></h3><p>Logs to the log table (<code>Swift\Logging\Entity\LogEntity</code>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="systemlogger"></a>SystemLogger<a class="hash-link" href="#systemlogger" title="Direct link to heading">#</a></h3><p>System logger is mainly meant for the system itself. When extending core functionality this is a useful place. Otherwise, use App/DB Logging or a custom logger.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuration"></a>Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><p>At this moment configuration is still limited. However it is possible to send logging notifications by mail for error levels from ERROR and higher. This configuration can be set in <code>etc/app.yaml</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">logging</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enable_mail</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">logging_mail_from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> log@example.com</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">logging_mail_to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> log@example.com</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-logger"></a>Custom logger<a class="hash-link" href="#custom-logger" title="Direct link to heading">#</a></h2><p>Easily create your own logger by extending <code>Swift\Logging\AbstractLogger</code>, this extends <code>Monolog\Logger</code> with some useful functionality and e.g. dispatches certain events. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly php"><div tabindex="0" class="prism-code language-php codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">declare(strict_types=1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace Swift\Logging;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Kernel\Attributes\Autowire;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Swift\Logging\Formatter\LineFormatter;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">use Monolog\Handler\StreamHandler;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Class AppLogger</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * @package Swift\Logging</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[Autowire]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class AppLogger extends AbstractLogger {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     * AppLogger constructor.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public function __construct() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $stream = new StreamHandler(INCLUDE_DIR . &#x27;/var/app.log&#x27;, AbstractLogger::DEBUG);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $stream-&gt;setFormatter(new LineFormatter());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        parent::__construct(&#x27;app&#x27;, array($stream));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h2></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/HenrivantSant/swift-docs/tree/master/docs/logging.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/swift-docs/docs/httpfoundation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« HTTP Foundation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/swift-docs/docs/making-requests"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Making requests Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#native-logging" class="table-of-contents__link">Native logging</a><ul><li><a href="#applogger" class="table-of-contents__link">AppLogger</a></li><li><a href="#dblogger" class="table-of-contents__link">DBLogger</a></li><li><a href="#systemlogger" class="table-of-contents__link">SystemLogger</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#custom-logger" class="table-of-contents__link">Custom logger</a></li><li><a href="#events" class="table-of-contents__link">Events</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/swift-docs/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/swift-api" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/swift-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/HenrivantSant/swift" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Swift. Built with Docusaurus.</div></div></div></footer></div>
<script src="/swift-docs/assets/js/styles.33a5c3b8.js"></script>
<script src="/swift-docs/assets/js/runtime~main.d9cdf9a7.js"></script>
<script src="/swift-docs/assets/js/main.e4f93355.js"></script>
<script src="/swift-docs/assets/js/1.aa12efea.js"></script>
<script src="/swift-docs/assets/js/2.9b663253.js"></script>
<script src="/swift-docs/assets/js/1f391b9e.412181ba.js"></script>
<script src="/swift-docs/assets/js/48.3f922b25.js"></script>
<script src="/swift-docs/assets/js/935f2afb.20b231d8.js"></script>
<script src="/swift-docs/assets/js/17896441.bf29895a.js"></script>
<script src="/swift-docs/assets/js/3abe8fb9.e3344494.js"></script>
</body>
</html>